"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[291],{291:(A,s,a)=>{a.r(s),a.d(s,{AllUsersPage:()=>T});var c=a(5861),_=a(6895),u=a(433),n=a(9985),t=a(4650),d=a(1205),m=a(958),Z=a(7977);function p(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"ion-content")(1,"ion-list")(2,"ion-item",25),t.NdJ("click",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.goToView())}),t._UZ(3,"ion-icon",26),t._uU(4," \xa0 VIEW PROFILE"),t.qZA(),t.TgZ(5,"ion-item",25),t.NdJ("click",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.goToAddUserPage())}),t._UZ(6,"ion-icon",27),t._uU(7," \xa0 Back to Add User"),t.qZA(),t.TgZ(8,"ion-item",25),t.NdJ("click",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.presentConfirmationAlert())}),t._UZ(9,"ion-icon",28),t._uU(10,"\xa0"),t.TgZ(11,"p"),t._uU(12,"LOGOUT"),t.qZA()()()()}2&i&&(t.xp6(2),t.Q6J("button",!0)("detail",!1),t.xp6(3),t.Q6J("button",!0)("detail",!1),t.xp6(3),t.Q6J("button",!0)("detail",!1))}function U(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",29),t._uU(2),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.qZA(),t.TgZ(5,"td",29),t._uU(6),t.qZA(),t.TgZ(7,"td",29),t._uU(8),t.qZA(),t.TgZ(9,"td",29),t._uU(10),t.qZA(),t.TgZ(11,"td",29),t._uU(12),t.qZA(),t.TgZ(13,"td",29),t._uU(14),t.qZA(),t.TgZ(15,"td",29),t._uU(16),t.qZA(),t.TgZ(17,"td",29),t._uU(18),t.qZA(),t.TgZ(19,"td",29),t._uU(20),t.qZA()()),2&i){const o=r.$implicit;t.xp6(2),t.Oqu(o.Name),t.xp6(2),t.Oqu(o.email),t.xp6(2),t.Oqu(o.position),t.xp6(2),t.Oqu(o.staffNumber),t.xp6(2),t.Oqu(o.role.wil),t.xp6(2),t.Oqu(o.role.employment),t.xp6(2),t.Oqu(o.role.statistic),t.xp6(2),t.Oqu(o.role.history),t.xp6(2),t.Oqu(o.role.addUser),t.xp6(2),t.Oqu(o.role.validation)}}let T=(()=>{var i;class r{constructor(e,l,g,f,h){this.auth=e,this.toastController=l,this.alertController=g,this.navController=f,this.db=h,this.tableData=[],this.getHistoryData()}ngOnInit(){this.getHistoryData()}getHistoryData(){this.db.collection("registeredStaff").valueChanges().subscribe(e=>{this.userData=e,console.log(e),this.tableData=e})}goToAddUserPage(){this.navController.navigateBack("/add-user")}presentConfirmationAlert(){var e=this;return(0,c.Z)(function*(){yield(yield e.alertController.create({header:"Confirmation",message:"Are you sure you want to SIGN OUT?",buttons:[{text:"Cancel",role:"cancel",cssClass:"my-custom-alert",handler:()=>{console.log("Confirmation canceled")}},{text:"Confirm",handler:()=>{e.auth.signOut().then(()=>{e.navController.navigateForward("/sign-in"),e.presentToast()}).catch(g=>{})}}]})).present()})()}presentToast(){var e=this;return(0,c.Z)(function*(){yield(yield e.toastController.create({message:"SIGNED OUT!",duration:1500,position:"top"})).present()})()}goToView(){this.navController.navigateBack("/staffprofile")}goToHomePage(){this.navController.navigateBack("/home")}}return(i=r).\u0275fac=function(e){return new(e||i)(t.Y36(d.zQ),t.Y36(n.yF),t.Y36(n.Br),t.Y36(m.SH),t.Y36(Z.ST))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-all-users"]],standalone:!0,features:[t.jDz],decls:67,vars:5,consts:[[3,"translucent"],["slot","start"],["src","assets\\MUT LOGO.png",1,"logo-image"],[1,"centered-title"],["slot","end"],["id","popover-button"],["name","person"],["trigger","popover-button",3,"dismissOnSelect"],[2,"--background","url('assets/tiny.jpg') no-repeat center / cover",3,"fullscreen"],[1,"cent"],[1,"bordered"],[1,"color"],[1,"header-cell"],["name","person","size","small",1,"small-icon"],[1,"header-text","small-text"],["name","mail","size","small",1,"small-icon"],["name","briefcase","size","small",1,"small-icon"],["name","reorder-two-outline","size","small",1,"small-icon"],["name","documents-outline","size","small",1,"small-icon"],["name","school-outline","size","small",1,"small-icon"],["name","stats-chart-outline","size","small",1,"small-icon"],["name","options-outline","size","small",1,"small-icon"],[1,"body"],[4,"ngFor","ngForOf"],[1,"total-text","ion-text-left"],["lines","none",3,"button","detail","click"],["name","eye"],["name","arrow-back-outline"],["color","danger","name","exit"],[1,"ion-text-center","white-text"]],template:function(e,l){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"ion-title",3),t._uU(5,"REGISTERED ADMIN USERS"),t.qZA(),t.TgZ(6,"ion-buttons",4)(7,"ion-button")(8,"ion-button",5),t._UZ(9,"ion-icon",6),t.qZA(),t.TgZ(10,"ion-popover",7),t.YNc(11,p,13,6,"ng-template"),t.qZA()()()()(),t.TgZ(12,"ion-content",8)(13,"div",9)(14,"ion-card")(15,"ion-card-content")(16,"table",10)(17,"thead",11)(18,"tr")(19,"th",12),t._UZ(20,"ion-icon",13),t.TgZ(21,"div",14),t._uU(22,"Name"),t.qZA()(),t.TgZ(23,"th",12),t._UZ(24,"ion-icon",15),t.TgZ(25,"div",14),t._uU(26,"Email"),t.qZA()(),t.TgZ(27,"th",12),t._UZ(28,"ion-icon",16),t.TgZ(29,"div",14),t._uU(30,"Position"),t.qZA()(),t.TgZ(31,"th",12),t._UZ(32,"ion-icon",17),t.TgZ(33,"div",14),t._uU(34,"System ID"),t.qZA()(),t.TgZ(35,"th",12),t._UZ(36,"ion-icon",18),t.TgZ(37,"div",14),t._uU(38,"WIL Role"),t.qZA()(),t.TgZ(39,"th",12),t._UZ(40,"ion-icon",19),t.TgZ(41,"div",14),t._uU(42,"Employment Role"),t.qZA()(),t.TgZ(43,"th",12),t._UZ(44,"ion-icon",20),t.TgZ(45,"div",14),t._uU(46,"Reports Role"),t.qZA()(),t.TgZ(47,"th",12),t._UZ(48,"ion-icon",21),t.TgZ(49,"div",14),t._uU(50,"History Role"),t.qZA()(),t.TgZ(51,"th",12),t._UZ(52,"ion-icon",21),t.TgZ(53,"div",14),t._uU(54,"Add User Role"),t.qZA()(),t.TgZ(55,"th",12),t._UZ(56,"ion-icon",21),t.TgZ(57,"div",14),t._uU(58,"Profile Validator Role"),t.qZA()()()(),t.TgZ(59,"tbody",22),t.YNc(60,U,21,10,"tr",23),t.qZA()(),t.TgZ(61,"p",24),t._uU(62),t.qZA()()()()(),t.TgZ(63,"ion-footer"),t._uU(64," Designed by @"),t.TgZ(65,"b"),t._uU(66,"MUT INNOVATIONLAB"),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(10),t.Q6J("dismissOnSelect",!0),t.xp6(2),t.Q6J("fullscreen",!0),t.xp6(48),t.Q6J("ngForOf",l.tableData),t.xp6(2),t.hij("Total Users: ",l.tableData.length,""))},dependencies:[n.Pc,n.YG,n.Sm,n.PM,n.FN,n.W2,n.fr,n.Gu,n.gu,n.Ie,n.q_,n.wd,n.sr,n.d8,_.ez,_.sg,u.u5],styles:[".white-text[_ngcontent-%COMP%]{color:#131010}ion-content[_ngcontent-%COMP%]{--background:#ECF0F6}#popover-button[_ngcontent-%COMP%]{color:#fff}.centered-title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;font-weight:700;color:#fffffff6;font-size:24px;border-radius:7px}thead[_ngcontent-%COMP%]{background-color:#c78f15}.header-cell[_ngcontent-%COMP%]{font-weight:700;color:#fff}.logo-image[_ngcontent-%COMP%]{width:100px;height:60px}.total-text[_ngcontent-%COMP%]{font-weight:700;margin-top:10px}.bordered[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fffefe}.body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#d3cdcd}ion-footer[_ngcontent-%COMP%]{background-color:#300505;color:#fcfcfc;text-align:center}"]}),r})()}}]);